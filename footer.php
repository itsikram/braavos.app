<footer class="main-footer">
    <div class="main-footer__container">
        <div class="main-footer__logo-wrapper" id="footer-logo-dark">
            <svg xmlns="http://www.w3.org/2000/svg" width="165" height="48" viewBox="0 0 165 48" fill="none">
                <path d="M21.2529 3.75036C21.3108 3.85121 21.2342 3.97588 21.1202 3.97588C18.8131 3.97588 16.9376 5.85322 16.8936 8.18606C16.1036 8.03447 15.285 8.02308 14.4763 8.16311C14.4205 5.84092 12.5498 3.97588 10.2502 3.97588C10.1362 3.97588 10.0594 3.85111 10.1174 3.75019C11.2342 1.80623 13.3095 0.5 15.6851 0.5C18.0608 0.5 20.1361 1.80631 21.2529 3.75036Z" fill="white" />
                <path d="M28.086 18.1785C28.8708 18.4227 29.6102 17.7138 29.3141 16.928C27.1131 11.088 20.5988 8.69545 15.6535 8.69545C10.6986 8.69545 4.03914 11.1653 1.98151 16.9644C1.70449 17.7452 2.44201 18.4307 3.21511 18.1872L15.0663 14.4549C15.4084 14.3471 15.774 14.3465 16.1164 14.4531L28.086 18.1785Z" fill="white" />
                <path d="M1.86584 19.3028L15.0763 15.1849C15.4163 15.079 15.7793 15.0787 16.1195 15.1841L29.4129 19.3048C30.523 19.6489 31.2826 20.6998 31.2826 21.8915V34.3068C31.2312 37.3373 28.5823 39.7663 25.6347 39.7663H20.7389C20.2549 39.7663 19.863 39.364 19.863 38.8666V34.5137C19.863 32.7996 20.85 31.2483 22.3773 30.5616C24.4246 29.6412 26.8466 28.3962 27.3022 25.8979C27.4492 25.0916 26.9376 24.3138 26.1551 24.1539C24.1763 23.7496 21.9826 23.9058 20.1275 24.7585C18.0215 25.7267 17.4706 27.337 17.2667 29.4998L17.0195 31.8296C16.9439 32.5417 16.2944 33.0872 15.5978 33.0872C14.8771 33.0872 14.3367 32.5231 14.2586 31.7865L14.016 29.4998C13.8413 27.6473 13.5246 25.8478 11.6613 24.9912C9.53582 24.0141 7.39985 23.6897 5.12759 24.1539C4.34503 24.3138 3.83344 25.0916 3.98048 25.8979C4.44 28.418 6.84299 29.6345 8.90536 30.5616C10.4327 31.2483 11.4196 32.7996 11.4196 34.5137V38.8658C11.4196 39.3632 11.0279 39.7663 10.5439 39.7663H5.64792C2.7003 39.7663 0.0514789 37.3373 0 34.3068V21.8883C0 20.6981 0.75771 19.6482 1.86584 19.3028Z" fill="white" />
                <path d="M41.0833 34.9722V13.0918H50.9831C53.3387 13.0918 55.1562 13.5987 56.4356 14.6126C57.7149 15.6264 58.3546 17.0127 58.3546 18.7714C58.3546 20.0749 57.9688 21.1818 57.1971 22.0922C56.4457 23.0026 55.4101 23.613 54.0901 23.9234V23.4268C55.6334 23.6958 56.8214 24.2958 57.654 25.2269C58.5069 26.1373 58.9334 27.327 58.9334 28.796C58.9334 30.7409 58.2531 32.2617 56.8925 33.3583C55.5522 34.4342 53.6941 34.9722 51.3181 34.9722H41.0833ZM45.6219 31.372H50.7394C51.9172 31.372 52.8209 31.1444 53.4504 30.6892C54.0799 30.234 54.3947 29.5098 54.3947 28.5167C54.3947 27.5028 54.0799 26.7787 53.4504 26.3442C52.8209 25.889 51.9172 25.6614 50.7394 25.6614H45.6219V31.372ZM45.6219 22.0922H50.1302C51.3689 22.0922 52.2827 21.8646 52.8716 21.4094C53.4606 20.9542 53.755 20.2715 53.755 19.3611C53.755 18.4714 53.4606 17.7989 52.8716 17.3437C52.2827 16.8885 51.3689 16.6609 50.1302 16.6609H45.6219V22.0922Z" fill="white" />
                <path d="M61.9578 34.9722V23.3957C61.9578 22.713 61.9375 22.0198 61.8969 21.3163C61.8766 20.6128 61.8258 19.9197 61.7446 19.2369H66.1614L66.6793 23.8302H65.9787C66.1817 22.7129 66.5067 21.7922 66.9534 21.068C67.4205 20.3439 67.9891 19.8059 68.6592 19.4542C69.3497 19.1024 70.1315 18.9266 71.0047 18.9266C71.3906 18.9266 71.6952 18.9473 71.9186 18.9886C72.1419 19.0093 72.3653 19.0611 72.5887 19.1438L72.5582 23.2716C72.1318 23.0854 71.7662 22.9716 71.4616 22.9302C71.1773 22.8681 70.8118 22.8371 70.365 22.8371C69.5121 22.8371 68.8014 23.0026 68.2328 23.3337C67.6845 23.6647 67.2682 24.151 66.9839 24.7924C66.7199 25.4338 66.5879 26.2097 66.5879 27.1201V34.9722H61.9578Z" fill="white" />
                <path d="M80.3639 35.3136C79.0236 35.3136 77.8457 34.9825 76.8304 34.3204C75.815 33.6583 75.023 32.7169 74.4544 31.4961C73.8858 30.2754 73.6015 28.8063 73.6015 27.089C73.6015 25.3924 73.8858 23.9337 74.4544 22.713C75.023 21.4922 75.815 20.5611 76.8304 19.9197C77.8457 19.2576 79.0236 18.9266 80.3639 18.9266C81.6026 18.9266 82.7093 19.2369 83.6841 19.8576C84.6792 20.4577 85.329 21.2749 85.6336 22.3095H85.2985L85.6641 19.2369H90.0809C90.02 19.9197 89.9591 20.6128 89.8981 21.3163C89.8575 21.9991 89.8372 22.6716 89.8372 23.3337V34.9722H85.2681L85.2376 32.0237H85.6031C85.2782 33.0169 84.6284 33.8135 83.6536 34.4135C82.6789 35.0135 81.5823 35.3136 80.3639 35.3136ZM81.7651 31.7755C82.821 31.7755 83.674 31.3927 84.3238 30.6271C84.9736 29.8616 85.2985 28.6822 85.2985 27.089C85.2985 25.4958 84.9736 24.3268 84.3238 23.582C83.674 22.8371 82.821 22.4647 81.7651 22.4647C80.7091 22.4647 79.8562 22.8371 79.2063 23.582C78.5565 24.3268 78.2316 25.4958 78.2316 27.089C78.2316 28.6822 78.5463 29.8616 79.1759 30.6271C79.8257 31.3927 80.6888 31.7755 81.7651 31.7755Z" fill="white" />
                <path d="M99.6102 35.3136C98.2699 35.3136 97.0921 34.9825 96.0767 34.3204C95.0613 33.6583 94.2694 32.7169 93.7008 31.4961C93.1322 30.2754 92.8479 28.8063 92.8479 27.089C92.8479 25.3924 93.1322 23.9337 93.7008 22.713C94.2694 21.4922 95.0613 20.5611 96.0767 19.9197C97.0921 19.2576 98.2699 18.9266 99.6102 18.9266C100.849 18.9266 101.956 19.2369 102.93 19.8576C103.925 20.4577 104.575 21.2749 104.88 22.3095H104.545L104.91 19.2369H109.327C109.266 19.9197 109.205 20.6128 109.144 21.3163C109.104 21.9991 109.084 22.6716 109.084 23.3337V34.9722H104.514L104.484 32.0237H104.849C104.525 33.0169 103.875 33.8135 102.9 34.4135C101.925 35.0135 100.829 35.3136 99.6102 35.3136ZM101.011 31.7755C102.067 31.7755 102.92 31.3927 103.57 30.6271C104.22 29.8616 104.545 28.6822 104.545 27.089C104.545 25.4958 104.22 24.3268 103.57 23.582C102.92 22.8371 102.067 22.4647 101.011 22.4647C99.9554 22.4647 99.1025 22.8371 98.4527 23.582C97.8028 24.3268 97.4779 25.4958 97.4779 27.089C97.4779 28.6822 97.7927 29.8616 98.4222 30.6271C99.072 31.3927 99.9351 31.7755 101.011 31.7755Z" fill="white" />
                <path d="M117.185 34.9722L110.514 19.2369H115.357L119.774 30.6582H118.769L123.338 19.2369H127.877L121.145 34.9722H117.185Z" fill="white" />
                <path d="M136.438 35.3136C134.793 35.3136 133.361 34.9825 132.143 34.3204C130.945 33.6376 130.011 32.6858 129.341 31.4651C128.691 30.2443 128.366 28.7857 128.366 27.089C128.366 25.4131 128.691 23.9647 129.341 22.744C130.011 21.5232 130.945 20.5818 132.143 19.9197C133.361 19.2576 134.793 18.9266 136.438 18.9266C138.083 18.9266 139.515 19.2576 140.733 19.9197C141.951 20.5818 142.886 21.5232 143.535 22.744C144.206 23.9647 144.541 25.4131 144.541 27.089C144.541 28.7857 144.206 30.2443 143.535 31.4651C142.886 32.6858 141.951 33.6376 140.733 34.3204C139.515 34.9825 138.083 35.3136 136.438 35.3136ZM136.438 31.7755C137.494 31.7755 138.327 31.3927 138.936 30.6271C139.565 29.8616 139.88 28.6822 139.88 27.089C139.88 25.4958 139.565 24.3268 138.936 23.582C138.327 22.8371 137.494 22.4647 136.438 22.4647C135.382 22.4647 134.539 22.8371 133.91 23.582C133.3 24.3268 132.996 25.4958 132.996 27.089C132.996 28.6822 133.3 29.8616 133.91 30.6271C134.539 31.3927 135.382 31.7755 136.438 31.7755Z" fill="white" />
                <path d="M153.207 35.3136C151.826 35.3136 150.567 35.1584 149.43 34.848C148.293 34.5377 147.328 34.1032 146.536 33.5445L147.724 30.4409C148.516 30.9375 149.389 31.3306 150.344 31.6203C151.319 31.9099 152.283 32.0548 153.238 32.0548C154.131 32.0548 154.791 31.9099 155.218 31.6203C155.644 31.3306 155.857 30.9375 155.857 30.4409C155.857 30.0271 155.715 29.7064 155.431 29.4788C155.167 29.2512 154.751 29.0857 154.182 28.9822L151.044 28.3925C149.725 28.1236 148.719 27.627 148.029 26.9028C147.338 26.1786 146.993 25.2372 146.993 24.0785C146.993 23.0647 147.257 22.175 147.785 21.4094C148.333 20.6232 149.115 20.0128 150.131 19.5783C151.146 19.1438 152.334 18.9266 153.695 18.9266C154.852 18.9266 155.949 19.0714 156.984 19.3611C158.02 19.6507 158.903 20.0956 159.634 20.6956L158.386 23.7061C157.756 23.2302 157.025 22.8474 156.192 22.5578C155.38 22.2681 154.598 22.1233 153.847 22.1233C152.872 22.1233 152.172 22.2888 151.745 22.6198C151.319 22.9302 151.105 23.3337 151.105 23.8302C151.105 24.2027 151.227 24.513 151.471 24.7613C151.735 25.0096 152.131 25.1958 152.659 25.32L155.827 25.9097C157.187 26.1579 158.223 26.6235 158.934 27.3063C159.645 27.9891 160 28.9305 160 30.1305C160 31.2272 159.716 32.1582 159.147 32.9238C158.578 33.6893 157.776 34.279 156.741 34.6928C155.725 35.1066 154.547 35.3136 153.207 35.3136Z" fill="white" />
            </svg>
        </div>
        <div class="main-footer__logo-wrapper" id="footer-logo-light">
            <svg xmlns="http://www.w3.org/2000/svg" width="165" height="48" viewBox="0 0 165 48" fill="none">
                <path d="M21.2529 3.75036C21.3108 3.85121 21.2342 3.97588 21.1202 3.97588C18.8131 3.97588 16.9376 5.85322 16.8936 8.18606C16.1036 8.03447 15.285 8.02308 14.4763 8.16311C14.4205 5.84092 12.5498 3.97588 10.2502 3.97588C10.1362 3.97588 10.0594 3.85111 10.1174 3.75019C11.2342 1.80623 13.3095 0.5 15.6851 0.5C18.0608 0.5 20.1361 1.80631 21.2529 3.75036Z" fill="#2F3A61" />
                <path d="M28.086 18.1785C28.8708 18.4227 29.6102 17.7138 29.3141 16.928C27.1131 11.088 20.5988 8.69545 15.6535 8.69545C10.6986 8.69545 4.03914 11.1653 1.98151 16.9644C1.70449 17.7452 2.44201 18.4307 3.21511 18.1872L15.0663 14.4549C15.4084 14.3471 15.774 14.3465 16.1164 14.4531L28.086 18.1785Z" fill="#2F3A61" />
                <path d="M1.86584 19.3028L15.0763 15.1849C15.4163 15.079 15.7793 15.0787 16.1195 15.1841L29.4129 19.3048C30.523 19.6489 31.2826 20.6998 31.2826 21.8915V34.3068C31.2312 37.3373 28.5823 39.7663 25.6347 39.7663H20.7389C20.2549 39.7663 19.863 39.364 19.863 38.8666V34.5137C19.863 32.7996 20.85 31.2483 22.3773 30.5616C24.4246 29.6412 26.8466 28.3962 27.3022 25.8979C27.4492 25.0916 26.9376 24.3138 26.1551 24.1539C24.1763 23.7496 21.9826 23.9058 20.1275 24.7585C18.0215 25.7267 17.4706 27.337 17.2667 29.4998L17.0195 31.8296C16.9439 32.5417 16.2944 33.0872 15.5978 33.0872C14.8771 33.0872 14.3367 32.5231 14.2586 31.7865L14.016 29.4998C13.8413 27.6473 13.5246 25.8478 11.6613 24.9912C9.53582 24.0141 7.39985 23.6897 5.12759 24.1539C4.34503 24.3138 3.83344 25.0916 3.98048 25.8979C4.44 28.418 6.84299 29.6345 8.90536 30.5616C10.4327 31.2483 11.4196 32.7996 11.4196 34.5137V38.8658C11.4196 39.3632 11.0279 39.7663 10.5439 39.7663H5.64792C2.7003 39.7663 0.0514789 37.3373 0 34.3068V21.8883C0 20.6981 0.75771 19.6482 1.86584 19.3028Z" fill="#2F3A61" />
                <path d="M41.083 34.9722V13.0918H50.9828C53.3385 13.0918 55.156 13.5987 56.4353 14.6126C57.7147 15.6264 58.3544 17.0127 58.3544 18.7714C58.3544 20.0749 57.9685 21.1818 57.1969 22.0922C56.4455 23.0026 55.4098 23.613 54.0898 23.9234V23.4268C55.6332 23.6958 56.8212 24.2958 57.6538 25.2269C58.5067 26.1373 58.9331 27.327 58.9331 28.796C58.9331 30.7409 58.2528 32.2617 56.8922 33.3583C55.552 34.4342 53.6938 34.9722 51.3179 34.9722H41.083ZM45.6217 31.372H50.7391C51.917 31.372 52.8206 31.1444 53.4502 30.6892C54.0797 30.234 54.3944 29.5098 54.3944 28.5167C54.3944 27.5028 54.0797 26.7787 53.4502 26.3442C52.8206 25.889 51.917 25.6614 50.7391 25.6614H45.6217V31.372ZM45.6217 22.0922H50.1299C51.3687 22.0922 52.2825 21.8646 52.8714 21.4094C53.4603 20.9542 53.7548 20.2715 53.7548 19.3611C53.7548 18.4714 53.4603 17.7989 52.8714 17.3437C52.2825 16.8885 51.3687 16.6609 50.1299 16.6609H45.6217V22.0922Z" fill="#2F3A61" />
                <path d="M61.9576 34.9722V23.3957C61.9576 22.713 61.9373 22.0198 61.8967 21.3163C61.8763 20.6128 61.8256 19.9197 61.7443 19.2369H66.1612L66.679 23.8302H65.9784C66.1815 22.7129 66.5064 21.7922 66.9532 21.068C67.4202 20.3439 67.9888 19.8059 68.659 19.4542C69.3494 19.1024 70.1313 18.9266 71.0045 18.9266C71.3903 18.9266 71.6949 18.9473 71.9183 18.9886C72.1417 19.0093 72.3651 19.0611 72.5885 19.1438L72.558 23.2716C72.1315 23.0854 71.766 22.9716 71.4614 22.9302C71.1771 22.8681 70.8116 22.8371 70.3648 22.8371C69.5119 22.8371 68.8011 23.0026 68.2325 23.3337C67.6842 23.6647 67.2679 24.151 66.9836 24.7924C66.7196 25.4338 66.5876 26.2097 66.5876 27.1201V34.9722H61.9576Z" fill="#2F3A61" />
                <path d="M80.3636 35.3136C79.0233 35.3136 77.8455 34.9825 76.8301 34.3204C75.8148 33.6583 75.0228 32.7169 74.4542 31.4961C73.8856 30.2754 73.6013 28.8063 73.6013 27.089C73.6013 25.3924 73.8856 23.9337 74.4542 22.713C75.0228 21.4922 75.8148 20.5611 76.8301 19.9197C77.8455 19.2576 79.0233 18.9266 80.3636 18.9266C81.6024 18.9266 82.7091 19.2369 83.6839 19.8576C84.6789 20.4577 85.3287 21.2749 85.6334 22.3095H85.2983L85.6638 19.2369H90.0807C90.0197 19.9197 89.9588 20.6128 89.8979 21.3163C89.8573 21.9991 89.837 22.6716 89.837 23.3337V34.9722H85.2678L85.2374 32.0237H85.6029C85.278 33.0169 84.6281 33.8135 83.6534 34.4135C82.6786 35.0135 81.582 35.3136 80.3636 35.3136ZM81.7648 31.7755C82.8208 31.7755 83.6737 31.3927 84.3235 30.6271C84.9734 29.8616 85.2983 28.6822 85.2983 27.089C85.2983 25.4958 84.9734 24.3268 84.3235 23.582C83.6737 22.8371 82.8208 22.4647 81.7648 22.4647C80.7088 22.4647 79.8559 22.8371 79.2061 23.582C78.5563 24.3268 78.2313 25.4958 78.2313 27.089C78.2313 28.6822 78.5461 29.8616 79.1756 30.6271C79.8255 31.3927 80.6885 31.7755 81.7648 31.7755Z" fill="#2F3A61" />
                <path d="M99.6099 35.3136C98.2697 35.3136 97.0918 34.9825 96.0765 34.3204C95.0611 33.6583 94.2691 32.7169 93.7005 31.4961C93.1319 30.2754 92.8476 28.8063 92.8476 27.089C92.8476 25.3924 93.1319 23.9337 93.7005 22.713C94.2691 21.4922 95.0611 20.5611 96.0765 19.9197C97.0918 19.2576 98.2697 18.9266 99.6099 18.9266C100.849 18.9266 101.955 19.2369 102.93 19.8576C103.925 20.4577 104.575 21.2749 104.88 22.3095H104.545L104.91 19.2369H109.327C109.266 19.9197 109.205 20.6128 109.144 21.3163C109.104 21.9991 109.083 22.6716 109.083 23.3337V34.9722H104.514L104.484 32.0237H104.849C104.524 33.0169 103.874 33.8135 102.9 34.4135C101.925 35.0135 100.828 35.3136 99.6099 35.3136ZM101.011 31.7755C102.067 31.7755 102.92 31.3927 103.57 30.6271C104.22 29.8616 104.545 28.6822 104.545 27.089C104.545 25.4958 104.22 24.3268 103.57 23.582C102.92 22.8371 102.067 22.4647 101.011 22.4647C99.9552 22.4647 99.1023 22.8371 98.4524 23.582C97.8026 24.3268 97.4777 25.4958 97.4777 27.089C97.4777 28.6822 97.7924 29.8616 98.422 30.6271C99.0718 31.3927 99.9349 31.7755 101.011 31.7755Z" fill="#2F3A61" />
                <path d="M117.184 34.9722L110.514 19.2369H115.357L119.774 30.6582H118.768L123.338 19.2369H127.876L121.144 34.9722H117.184Z" fill="#2F3A61" />
                <path d="M136.438 35.3136C134.793 35.3136 133.361 34.9825 132.143 34.3204C130.945 33.6376 130.01 32.6858 129.34 31.4651C128.69 30.2443 128.366 28.7857 128.366 27.089C128.366 25.4131 128.69 23.9647 129.34 22.744C130.01 21.5232 130.945 20.5818 132.143 19.9197C133.361 19.2576 134.793 18.9266 136.438 18.9266C138.083 18.9266 139.514 19.2576 140.733 19.9197C141.951 20.5818 142.885 21.5232 143.535 22.744C144.205 23.9647 144.54 25.4131 144.54 27.089C144.54 28.7857 144.205 30.2443 143.535 31.4651C142.885 32.6858 141.951 33.6376 140.733 34.3204C139.514 34.9825 138.083 35.3136 136.438 35.3136ZM136.438 31.7755C137.494 31.7755 138.326 31.3927 138.936 30.6271C139.565 29.8616 139.88 28.6822 139.88 27.089C139.88 25.4958 139.565 24.3268 138.936 23.582C138.326 22.8371 137.494 22.4647 136.438 22.4647C135.382 22.4647 134.539 22.8371 133.909 23.582C133.3 24.3268 132.996 25.4958 132.996 27.089C132.996 28.6822 133.3 29.8616 133.909 30.6271C134.539 31.3927 135.382 31.7755 136.438 31.7755Z" fill="#2F3A61" />
                <path d="M153.207 35.3136C151.826 35.3136 150.567 35.1584 149.43 34.848C148.293 34.5377 147.328 34.1032 146.536 33.5445L147.724 30.4409C148.516 30.9375 149.389 31.3306 150.344 31.6203C151.318 31.9099 152.283 32.0548 153.237 32.0548C154.131 32.0548 154.791 31.9099 155.217 31.6203C155.644 31.3306 155.857 30.9375 155.857 30.4409C155.857 30.0271 155.715 29.7064 155.431 29.4788C155.167 29.2512 154.75 29.0857 154.182 28.9822L151.044 28.3925C149.724 28.1236 148.719 27.627 148.029 26.9028C147.338 26.1786 146.993 25.2372 146.993 24.0785C146.993 23.0647 147.257 22.175 147.785 21.4094C148.333 20.6232 149.115 20.0128 150.13 19.5783C151.146 19.1438 152.334 18.9266 153.694 18.9266C154.852 18.9266 155.948 19.0714 156.984 19.3611C158.02 19.6507 158.903 20.0956 159.634 20.6956L158.385 23.7061C157.756 23.2302 157.025 22.8474 156.192 22.5578C155.38 22.2681 154.598 22.1233 153.847 22.1233C152.872 22.1233 152.171 22.2888 151.745 22.6198C151.318 22.9302 151.105 23.3337 151.105 23.8302C151.105 24.2027 151.227 24.513 151.471 24.7613C151.735 25.0096 152.131 25.1958 152.659 25.32L155.827 25.9097C157.187 26.1579 158.223 26.6235 158.934 27.3063C159.644 27.9891 160 28.9305 160 30.1305C160 31.2272 159.715 32.1582 159.147 32.9238C158.578 33.6893 157.776 34.279 156.74 34.6928C155.725 35.1066 154.547 35.3136 153.207 35.3136Z" fill="#2F3A61" />
            </svg>
        </div>
        <div class="main-footer__menu-wrapper">
            <?php echo wp_nav_menu(array(
                'menu'            => 'footer-menu',
                'menu_class'      => 'footer-menu',
                'menu_id'         => '',
                'container'       => 'nav',
                'container_class' => '',
                'depth'           => 2,
                'theme_location'  => 'footer-menu',
                'items_wrap'      => '<ul class="%2$s">%3$s</ul>',
                'item_spacing'    => 'preserve',
            )); ?>
        </div>
    </div>
</footer>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<?php if (is_front_page()) {

?>
    <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", () => {
            const videoLink = document.querySelector(".home-hero__video-link");
            const popupOverlay = document.getElementById("popupOverlay");
            const popup = document.getElementById("popup");

            // Открыть попап
            videoLink.addEventListener("click", (e) => {
                e.preventDefault();
                popupOverlay.style.display = "flex";
                document.body.classList.add("no-scroll");
            });

            // Закрыть попап
            popupOverlay.addEventListener("click", (e) => {
                if (!popup.contains(e.target)) {
                    popupOverlay.style.display = "none";
                    document.body.classList.remove("no-scroll");
                }
            });
        });


        let swiper = new Swiper(".Swiper-apps", {
            slidesPerView: 'auto',
            loop: true,
            spaceBetween: 24,
            centeredSlides: true,
            navigation: {
                nextEl: ".swiper-app-button-next",
                prevEl: ".swiper-app-button-prev",
            },
            breakpoints: {

                320: {
                    slidesPerView: 'auto',
                    spaceBetween: 24,
                    loop: true,
                    centeredSlides: true,
                },

                768: {
                    slidesPerView: 2.5,
                    spaceBetween: 24,
                    loop: true,
                    centeredSlides: false,
                },

                1024: {
                    slidesPerView: 4,
                    loop: true,
                    centeredSlides: false,
                    spaceBetween: 50,
                },
            },
        });

        let Swiper_testimonials = new Swiper(".Swiper-testimonials", {
            slidesPerView: "auto",
            loop: true,
            spaceBetween: 40,
            autoplay: {
                delay: 10000,
                disableOnInteraction: false,
            },
            navigation: {
                nextEl: ".swiper-testimonials-button-next",
                prevEl: ".swiper-testimonials-button-prev",
            },
            pagination: {
                el: ".swiper-pagination-testimonials",
                clickable: true,
            },
            breakpoints: {

                320: {
                    slidesPerView: "auto",
                    spaceBetween: 15,
                    loop: true,
                    centeredSlides: true,
                },

                768: {
                    slidesPerView: 3,
                    spaceBetween: 24,
                    loop: true,
                    centeredSlides: false,
                },

                1024: {
                    slidesPerView: 3,
                    spaceBetween: 40,
                    loop: true,
                    centeredSlides: false
                }
            },
        });
    </script>

    <script>
        function stopVideo() {
            var iframe = document.querySelector("#popupOverlay .popup-video");
            var iframeSrc = iframe.src; // Save original src
            iframe.src = ''; // Remove src to stop video
            // setTimeout(() => {
            //     iframe.src = iframeSrc; // Restore src after a short delay
            // }, 100); // Short delay to ensure the video stops
        }


        document.getElementById('popupOverlay').addEventListener('click', function(e) {
            stopVideo();
        });
    </script>


<?php
}; ?>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.4/lottie.min.js"></script> -->
<?php wp_footer(); ?>
<?php if (is_page('one-click-invest')) {
?><script type="text/javascript">
        let Swiper_guide = new Swiper(".Swiper-guide", {
            slidesPerView: "auto",
            loop: true,
            spaceBetween: 24,
            pagination: {
                el: ".swiper-pagination-guide",
                clickable: true,
            },
            breakpoints: {

                320: {
                    slidesPerView: "auto",
                    spaceBetween: 24,
                    loop: true,
                    allowTouchMove: true,
                    centeredSlides: true,
                },

                768: {
                    slidesPerView: 3,
                    spaceBetween: 24,
                    allowTouchMove: true,
                    loop: true,
                    centeredSlides: false,
                },

                1024: {
                    slidesPerView: 4,
                    spaceBetween: 24,
                    loop: true,
                    allowTouchMove: true,
                    centeredSlides: false
                },
                1280: {
                    slidesPerView: "auto",
                    allowTouchMove: false,
                },
            },
        });
    </script>

<?php
}; ?>

<script type="text/javascript">
    (function ($) {
    $(document).ready(function () {
        function likePattern(value, pattern) {
            const escapedPattern = pattern.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
            const regexPattern = escapedPattern.replace(/%/g, '.*').replace(/_/g, '.');
            const regex = new RegExp(`^${regexPattern}$`, 'i');
            return regex.test(value)
        }
        $('.d-explorer-ecosystem-section .filter-tab-item:not(.filter-tab-item-search)').click(function (e) {
            $(this).siblings().removeClass('active');
            $(this).addClass('active');
            $('#ecoFilterSearchInput').val('')
            let dataFilter = $(e.currentTarget).attr('data-filter');
            if (!dataFilter) return;
            let totalItemExists = $('.' + dataFilter).length
            if (totalItemExists == 0) {
                $('.dapps-not-found').css('display', 'flex')
            } else {
                $('.dapps-not-found').css('display', 'none')
            }
            if (dataFilter == 'all') {
                $('.item-box').fadeIn('show');
                $('.item-box').attr('data-filter', 'true');
                $('.dapps-not-found').css('display', 'none');
                return
            }
            $('.item-box').hide();
            $('.item-box').removeAttr('data-filter');
            $(`.${dataFilter}`).fadeIn('show');
            $(`.${dataFilter}`).attr('data-filter', 'true')
        })
        $('#ecoFilterSearchInput').keyup(function (event) {
            $('.filter-tab-item').removeClass('active');
            let searchText = event.currentTarget.value
            $('.item-box').hide();
            $('.item-box').removeAttr('data-filter');
            $('.dapps-not-found').css('display', 'flex');
            $('.item-box').each(function () {
                let dataTitle = $(this).attr('data-title')
                let isMatch = likePattern(dataTitle, `%${searchText}%`)
                if (isMatch) {
                    $('.dapps-not-found').css('display', 'none');
                    $(this).fadeIn(400);
                    $(this).attr('data-filter', 'true')
                }
            })
        })
        $('.d-explorer-ecosystem-section .items-box-container .item-box[data-filter=true]').hover(function (e) {
            let columns = 3
            let visibleItems = $('.d-explorer-ecosystem-section .items-box-container .item-box[data-filter=true]')
            let index = visibleItems.index(this);
            let rowIndex = Math.floor(index / columns) + 1;
            let colIndex = (index % columns) + 1;
            console.log(colIndex, rowIndex)
            let currentHeight = $(this).height();
            let currentRow = rowIndex
            let currentColumn = colIndex
            let totalRows = Math.floor((visibleItems.length / columns))
            console.log(visibleItems.length, totalRows)
            $(this).find('.item-desc').stop(!0, !0).slideDown(200);
            $(this).find('.item-buttons-container').stop(!0, !0).slideDown('fast', 'linear', function () {
                $(e.currentTarget).find('.item-buttons-container').css('display', 'flex');
                let newHeight = $(e.currentTarget).height();
                let difference = newHeight - currentHeight;
                visibleItems.each(function (i) {
                    let currentRow = Math.floor(i / columns) + 1;
                    let currentCol = (i % columns) + 1;
                    let nextRowIndex = rowIndex;
                    if (currentColumn == 1) {
                        if (currentRow > nextRowIndex && (currentCol === 2 || currentCol === 3)) {
                            $(this).css('margin-top', `-${difference}px`)
                        }
                    }
                    if (currentColumn == 2) {
                        if (currentRow > nextRowIndex && (currentCol === 1 || currentCol === 3)) {
                            $(this).css('margin-top', `-${difference}px`)
                        }
                    }
                    if (currentColumn == 3) {
                        if (currentRow > nextRowIndex && (currentCol === 1 || currentCol === 2)) {
                            $(this).css('margin-top', `-${difference}px`)
                        }
                    }
                })
            })
        }, function () {
            $(this).find('.item-buttons-container').stop(!0, !0).slideUp(400);
            $(this).find('.item-desc').stop(!0, !0).slideUp(400);
            $(`.d-explorer-ecosystem-section .items-box-container .item-box`).css('margin-top', `0px`)
        });
        $('.home-socials a').attr('target', '_blank');
        $('[class$="-apps"] a').attr('target', '_blank');
        $('.social-icons a').attr('target', '_blank');
        $('#dExplorerEcosystem .items-box-container a').attr('target', '_blank');
        $('.blog-grid-section .filter-tab-item').click(function (e) {
            $(this).siblings().removeClass('active');
            $(this).addClass('active');
            $('.blog-grid-section .blog-top-row .column-2-row,.blog-grid-section .blog-middle-row').hide();
            let dataFilter = $(e.currentTarget).attr('data-filter');
            if (!dataFilter) return;
            let availableItems = $('.' + dataFilter).length;
            if (availableItems == 0) {
                $('.blog-grid-section .blog-not-found-text').remove();
                $('.blog-grid-section .filter-item-container').append('<p class="blog-not-found-text">No blogs found</p>')
                $('.blog-not-found-text').show()
            } else {
                $('.blog-grid-section .blog-not-found-text').remove()
            }
            if (dataFilter == 'all') {
                $('.blog-grid-section .blog-not-found-text').remove();
                $('.item-box').fadeIn();
                $('.item-box.from-top-row').hide();
                if (window.matchMedia("(max-width: 768px)").matches) {
                    $('.item-box.from-top-row').show()
                } else {
                    $('.blog-grid-section .blog-top-row .column-2-row,.blog-grid-section .blog-middle-row').fadeIn()
                }
                return
            }
            $('.item-box').hide();
            $(`.${dataFilter}`).fadeIn()
        })
        $('.main-header__mobile-menu-button').click(e => {
            $('.mobile-menu').toggleClass('force-show')
        })
        $('.mobile-menu__close').click(e => {
            $('.mobile-menu').removeClass('force-show')
        })
        $('.home-hero__video-link').click(e => {
            $('.popup-overlay').toggleClass('force-show')
        })
        $('#popupOverlay').click(e => {
            $('.popup-overlay').removeClass('force-show')
        })
        $('#blogHeroLeftContainer').click(function () {
            let href = $(this).data('href');
            window.location.href = href
        })

        function applyThemeMode(themeMode){
            if(themeMode == 'dark') {
                $(document.body).removeClass('light');
                $(document.body).removeClass('light-bg');
                $(document.body).addClass('dark');
                $(document.body).addClass('dark-bg');
                $('html').attr('data-theme', 'dark')
                $('#logo-light').hide();
                $('#logo-dark').fadeIn();
            }else {
                $(document.body).removeClass('dark');
                $(document.body).removeClass('dark-bg');
                $(document.body).addClass('light');
                $(document.body).addClass('light-bg');
                $('html').attr('data-theme', 'light')
                $('#logo-dark').hide();
                $('#logo-light').fadeIn();


            }
        }

        let themeMode = localStorage.getItem('theme-mode') || 'dark';
        applyThemeMode(themeMode)

        $('#switch').change(function () {
            let isChecked = $(this).prop('checked')
            let themeMode = isChecked ? 'dark' : 'light';

            applyThemeMode(themeMode)
            $.ajax({
                url: ajax_object.ajax_url,
                type: 'POST',
                data: {
                    action: 'update_session',
                    theme_mode: themeMode,
                },
                success: function (response) {
                    if (response.success) {
                        //let themeMode =  response.data
                        localStorage.setItem('theme-mode',themeMode) 
                        applyThemeMode(themeMode)

                    } else {
                        console.error(response.data)
                    }
                },
                error: function (xhr, status, error) {
                    console.error("AJAX error:", status, error)
                },
            })
        })

        if(themeMode == 'dark') {
            $('#switch-mobile').prop('checked',true)
            $('#switch').prop('checked',true)
            applyThemeMode('dark')
            // $('#switch').trigger('change')
            // $('#switch-mobile').trigger('change')

        }
        $('#switch-mobile').change(function () {
            let isChecked = $(this).prop('checked')
            let themeMode = isChecked ? 'dark' : 'light';

            applyThemeMode(themeMode)

            $.ajax({
                url: ajax_object.ajax_url,
                type: 'POST',
                data: {
                    action: 'update_session',
                    theme_mode: themeMode,
                },
                success: function (response) {
                    if (response.success) {
                        let themeMode =  response.data
                        localStorage.setItem('theme-mode',themeMode) 
                        applyThemeMode(themeMode)
                    } else {
                        console.error(response.data)
                    }
                },
                error: function (xhr, status, error) {
                    console.error("AJAX error:", status, error)
                },
            })
        })

        function activeMenu(index) {
            $('.main-menu__list-item').removeClass('active');
            if (index == 0) return;
            $('.main-menu__list-item:nth-child(' + index + ')').addClass('active')
        }
        activeMenu(0)
        if (window.location.href.includes("/security")) {
            activeMenu(1)
        }
        if (window.location.href.includes("/swap-tokens")) {
            activeMenu(1)
        }
        if (window.location.href.includes("/deposit-crypto")) {
            activeMenu(1)
        }
        if (window.location.href.includes("/connect-to-starknet-dapps")) {
            activeMenu(1)
        }
        if (window.location.href.includes("/stake")) {
            activeMenu(2)
        }
        if (window.location.href.includes("/starknet-wallet-for-defi")) {
            activeMenu(2)
        }
        if (window.location.href.includes("/one-click-invest")) {
            activeMenu(2)
        }
        if (window.location.href.includes("/dapps-explorer")) {
            activeMenu(3)
        }
        if (window.location.href.includes("/faq")) {
            activeMenu(4)
        }
        if (window.location.href.includes("/blog")) {
            activeMenu(5)
        }
        if (window.location.href.includes("/careers")) {
            activeMenu(5)
        }
        if (window.location.href.includes("/faq")) {
            activeMenu(4)
        }
        if (window.location.href.includes("/download-braavos-wallet")) {
            activeMenu(0)
        }
        $('.play-btn').click(e => {
            $('.video-placeholder').hide();
            $('.play-btn').hide();
            $(e.target).hide();
            $('.youtube-short-container').html('<iframe id="youtube-video" width="360" height="640" allow="autoplay; encrypted-media" src="https://www.youtube.com/embed/4o8w5K2obtE?autoplay=1" frameborder="0" allowfullscreen></iframe>');

            $('.youtube-short-container iframe').attr('src','https://www.youtube.com/embed/4o8w5K2obtE?autoplay=1')


            // setTimeout(function () {

            //     var iframe = document.querySelector(".youtube-short-container iframe");
            //     var videoSrc = iframe.src;
            //     if (videoSrc.indexOf("autoplay=1") === -1) {
            //         iframe.src = videoSrc + (videoSrc.includes("?") ? "&" : "?") + "autoplay=1";
            //     }
            // }, 1000)

        })

        $('.home-hero__video-link').click(evt => {
            $('#popup').html('<iframe frameborder="0" allow="autoplay; encrypted-media" allowfullscreen="" class="popup-video"></iframe>')
            $('.popup-video').attr('src', 'https://www.youtube.com/embed/vudfGt65D_Q?autoplay=1')

        })

    })


    setInterval(() => {
        $('body > div:last-of-type').hide();
        $('.NDdMMDDNjxu0TN0mQYhOhNlTMAjVkNUtheme--light').hide();
        $('.NDdMMDDNjxu0TN0mQYhOhNlTMAjVkNU').hide();
    }, 20)


})(jQuery)
</script>
</body>

</html>